{"ast":null,"code":"var _jsxFileName = \"/Users/chenjian/blog2.0/src/App.js\";\nimport React from 'react';\nimport { gql } from 'apollo-boost';\nimport { Query, ApolloProvider, useQuery, useLazyQuery } from \"react-apollo\";\nimport { ApolloClient, InMemoryCache } from \"apollo-boost\";\nimport { createHttpLink } from \"apollo-link-http\";\nimport { BrowserRouter as Router, Switch, Route, Link, Redirect, useRouteMatch, useParams, HashRouter, NavLink, useLocation } from \"react-router-dom\";\nconst QUERY_USERS = gql`\n {\n    articles {\n      id,\n      time,\n      title,\n      intro,\n      img,\n      blocks{\n        content\n      }\n\n    }\n  \n}`;\nconst QUERY_BLOCKS = gql`\nquery ($articleId:Int!){\n    \n      article(id:$articleId) {\n       time,\n       title,\n       img,\n        blocks{\n          tag\n          content\n        }\n  \n      }\n  \n    }\n\n`;\nexport function Block(block, status) {\n  switch (status) {\n    case 'li':\n      return /*#__PURE__*/React.createElement(\"li\", {\n        style: {\n          marginLeft: 30\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 15\n        }\n      }, block.content);\n\n    case 'h3':\n      return /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 15\n        }\n      }, block.content);\n\n    case 'p':\n      return /*#__PURE__*/React.createElement(\"p\", {\n        class: \"margbot50\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }\n      }, block.content);\n\n    case 'img':\n      return /*#__PURE__*/React.createElement(\"div\", {\n        class: \"single_blog_post_img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: block.content,\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 49\n        }\n      }));\n\n    case 'project':\n      return /*#__PURE__*/React.createElement(\"h4\", {\n        align: \"center\",\n        class: \"margbot50\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 14\n        }\n      }, \"deployed on Github Pages: \", /*#__PURE__*/React.createElement(\"a\", {\n        href: \"\" + block.content,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 78\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        class: \"fas fa-door-open fa-1x\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 105\n        }\n      })));\n\n    default:\n      return /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 14\n        }\n      }, \"Error\");\n  }\n}\nexport function Detail() {\n  let {\n    articleId\n  } = useParams();\n  const {\n    data,\n    loading,\n    error\n  } = useQuery(QUERY_BLOCKS, {\n    variables: {\n      articleId\n    }\n  });\n  if (loading) return null;\n  if (error) return `Error! ${error}`;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    class: \"single_blog_post clearfix\",\n    \"data-animated\": \"fadeInUp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"single_blog_post_descr\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"single_blog_post_date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, new Date(data.article.time).toDateString() + ' | ' + new Date(data.article.time).toLocaleTimeString()), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"single_blog_post_title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, data.article.title), /*#__PURE__*/React.createElement(\"ul\", {\n    class: \"single_blog_post_info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"javascript:void(0);\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }, \"Admin\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"javascript:void(0);\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }, \"Creative\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"javascript:void(0);\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  }, \"0 Comments\")))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"single_blog_post_img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: data.article.img,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"single_blog_post_content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, data.article.blocks.map(block => Block(block, block.tag))));\n}\nexport function UserInfo() {\n  // Polling: rovides near-real-time synchronization with your server\n  // by causing a query to execute periodically at a specified interval\n\n  /* const query=QUERY_USERS\n   const varibles={}\n   const p = new Promise( (resolve) => {\n     client.query({\n       query,\n       varibles,\n       \n     }).then((res) => {\n       resolve(res.data)\n     })\n   })*/\n  const {\n    data,\n    loading\n  } = useQuery(QUERY_USERS);\n  console.log(data); // should handle loading status\n\n  if (loading) return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 23\n    }\n  }, \"Loading...\");\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 2\n    }\n  }, data.articles.map(article => /*#__PURE__*/React.createElement(\"div\", {\n    class: \"blog_post margbot50 clearfix\",\n    \"data-animated\": \"fadeInUp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"blog1\",\n    class: \"blog_post_img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    id: \"img2\",\n    src: article.img,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 3\n    }\n  }), /*#__PURE__*/React.createElement(NavLink, {\n    class: \"zoom\",\n    to: '/detail/' + article.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 3\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"blog_post_descr\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"blog_post_date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 1\n    }\n  }, new Date(article.time).toDateString() + ' | ' + new Date(article.time).toLocaleTimeString()), /*#__PURE__*/React.createElement(NavLink, {\n    class: \"blog_post_title\",\n    to: '/detail/' + article.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 1\n    }\n  }, article.title), /*#__PURE__*/React.createElement(\"ul\", {\n    class: \"blog_post_info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"javascript:void(0);\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }, \"Admin\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"javascript:void(0);\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  }, \"Creative\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"javascript:void(0);\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }\n  }, \"0 Comments\"))), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"blog_post_content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }\n  }, article.intro + \" ... \"), /*#__PURE__*/React.createElement(NavLink, {\n    class: \"read_more_btn\",\n    to: '/detail/' + article.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }\n  }, \"Read More\")))), /*#__PURE__*/React.createElement(\"ul\", {\n    id: \"sahidu\",\n    class: \"pagination clearfix\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    class: \"active\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"javascript:void(0);\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 32\n    }\n  }, \"1\"))));\n}\n/*\nconst client = new ApolloClient({\n    uri: 'http://54.197.2.14/graphql/',\n});*/\n\nconst client = new ApolloClient({\n  link: createHttpLink({\n    uri: 'https://jian.technology/graphql/',\n    headers: {\n      'Content-Type': 'application/graphql'\n    },\n    fetchOptions: {\n      method: \"GET\"\n    }\n  }),\n  cache: new InMemoryCache()\n});\n\nconst App = () => /*#__PURE__*/React.createElement(ApolloProvider, {\n  client: client,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 6\n  }\n}, /*#__PURE__*/React.createElement(HashRouter, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 190,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(Switch, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 191,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(Route, {\n  path: \"/detail/:articleId\",\n  component: Detail,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 192,\n    columnNumber: 4\n  }\n}), /*#__PURE__*/React.createElement(Route, {\n  path: \"/list\",\n  component: UserInfo,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 193,\n    columnNumber: 4\n  }\n}), /*#__PURE__*/React.createElement(Redirect, {\n  to: \"/list\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 194,\n    columnNumber: 5\n  }\n}))));\n\nexport default App;","map":{"version":3,"sources":["/Users/chenjian/blog2.0/src/App.js"],"names":["React","gql","Query","ApolloProvider","useQuery","useLazyQuery","ApolloClient","InMemoryCache","createHttpLink","BrowserRouter","Router","Switch","Route","Link","Redirect","useRouteMatch","useParams","HashRouter","NavLink","useLocation","QUERY_USERS","QUERY_BLOCKS","Block","block","status","marginLeft","content","Detail","articleId","data","loading","error","variables","Date","article","time","toDateString","toLocaleTimeString","title","img","blocks","map","tag","UserInfo","console","log","articles","id","intro","client","link","uri","headers","fetchOptions","method","cache","App"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { gql } from 'apollo-boost';\nimport { Query ,ApolloProvider,useQuery,useLazyQuery} from \"react-apollo\";\nimport {ApolloClient, InMemoryCache}from \"apollo-boost\";\nimport { createHttpLink } from \"apollo-link-http\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  Redirect,\n  useRouteMatch,\n  useParams,\n  HashRouter,\n  NavLink,\n  useLocation,\n} from \"react-router-dom\";\n\nconst QUERY_USERS = gql`\n {\n    articles {\n      id,\n      time,\n      title,\n      intro,\n      img,\n      blocks{\n        content\n      }\n\n    }\n  \n}`;\nconst QUERY_BLOCKS=gql`\nquery ($articleId:Int!){\n    \n      article(id:$articleId) {\n       time,\n       title,\n       img,\n        blocks{\n          tag\n          content\n        }\n  \n      }\n  \n    }\n\n`;\nexport function Block( block, status ) {\n  switch (status) {\n    case 'li':\n      return  <li style={{marginLeft:30}}>{block.content}</li>;\n    case 'h3':\n      return  <h3 >{block.content}</h3>;\n    case 'p':\n      return  <p  class=\"margbot50\">{block.content}</p>;\n    case 'img':\n      return  <div class=\"single_blog_post_img\"><img src={block.content} alt=\"\" /></div>;\n    case 'project':\n      return <h4  align=\"center\" class=\"margbot50\">deployed on Github Pages: <a href={\"\"+block.content}><i class=\"fas fa-door-open fa-1x\"></i></a></h4>;\n    default:\n      return <h1>Error</h1>;\n  }\n \n \n}\nexport  function Detail(){\n  let { articleId } = useParams();\n  const {  data ,loading,error} = useQuery(QUERY_BLOCKS, {\n    variables: { articleId }\n  });\n  if (loading) return null;\n  if (error) return `Error! ${error}`;\n  return (\n\n   \n    <div class=\"single_blog_post clearfix\" data-animated=\"fadeInUp\">\n      <div class=\"single_blog_post_descr\">\n       \n        <div class=\"single_blog_post_date\">{(new Date(data.article.time)).toDateString()+' | '+(new Date(data.article.time)).toLocaleTimeString()}</div>\n        <div class=\"single_blog_post_title\">{data.article.title}</div>\n        <ul class=\"single_blog_post_info\">\n          <li><a href=\"javascript:void(0);\" >Admin</a></li>\n          <li><a href=\"javascript:void(0);\" >Creative</a></li>\n          <li><a href=\"javascript:void(0);\" >0 Comments</a></li>\n        </ul>\n      </div>\n\n      <div class=\"single_blog_post_img\"><img src={data.article.img} alt=\"\" /></div>\n\n      <div class=\"single_blog_post_content\">\n  \n\n        {\n          data.article.blocks.map(block =>(\n            Block(block,block.tag)\n            \n          ))\n        }  \n\n    \n      </div>\n\n</div>\n\n\n \n  );\n\n}\n\n\n\n\n\nexport function UserInfo() {\n  \n  // Polling: rovides near-real-time synchronization with your server\n  // by causing a query to execute periodically at a specified interval\n /* const query=QUERY_USERS\n  const varibles={}\n  const p = new Promise( (resolve) => {\n    client.query({\n      query,\n      varibles,\n      \n    }).then((res) => {\n      resolve(res.data)\n    })\n  })*/\n\n\n  const { data, loading } = useQuery(QUERY_USERS);\n  console.log(data)\n  // should handle loading status\n  if (loading) return <p>Loading...</p>;\n  return  (\n <React.Fragment>\n{data.articles.map(   article  => (\n\n\n\n<div class=\"blog_post margbot50 clearfix\" data-animated=\"fadeInUp\">\n<div id=\"blog1\" class=\"blog_post_img\">\n  <img id=\"img2\" src={article.img} alt=\"\" />\n  <NavLink class=\"zoom\" to={'/detail/'+article.id}></NavLink>\n</div>\n<div class=\"blog_post_descr\">\n<div class=\"blog_post_date\">{(new Date(article.time)).toDateString()+' | '+(new Date(article.time)).toLocaleTimeString()}</div>\n<NavLink class=\"blog_post_title\"  to={'/detail/'+article.id}>{article.title}</NavLink>\n\n      <ul class=\"blog_post_info\">\n        <li><a href=\"javascript:void(0);\" >Admin</a></li>\n        <li><a href=\"javascript:void(0);\" >Creative</a></li>\n        <li><a href=\"javascript:void(0);\" >0 Comments</a></li>\n      </ul>\n      <hr/>\n      <div class=\"blog_post_content\">{article.intro+\" ... \"}</div>\n      <NavLink class=\"read_more_btn\" to={'/detail/'+article.id}>Read More</NavLink>\n</div>\n</div>\n))}\n<ul id=\"sahidu\" class=\"pagination clearfix\">\n            <li class=\"active\"><a href=\"javascript:void(0);\" >1</a></li>\n            </ul>\n    </React.Fragment>\n  );\n}\n/*\nconst client = new ApolloClient({\n    uri: 'http://54.197.2.14/graphql/',\n});*/\n\n\nconst client = new ApolloClient({\n  link: createHttpLink({\n        uri: 'https://jian.technology/graphql/', \n        headers: {'Content-Type': 'application/graphql'},\n        fetchOptions:{method:\"GET\"},\n        }),\n  cache:new InMemoryCache(),\n})\n\n\n\n const App = () =>\n    (<ApolloProvider client={client}>\n  <HashRouter>\n  <Switch>\n   <Route path='/detail/:articleId' component={Detail}/>\n   <Route path='/list' component={UserInfo}/>\n    <Redirect to='/list'/>\n   </Switch>\n  </HashRouter>\n\n\n</ApolloProvider>);\n \n \n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}